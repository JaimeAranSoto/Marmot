<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Event sheet 1</name>
    <events>
        <variable constant="0" name="medidorPulso" sid="632389381406549" static="0" type="number">3</variable>
        <event-block sid="572467590159378">
            <conditions>
                <condition id="-1" name="Every tick" sid="605649448534055" type="System" />
            </conditions>
            <actions>
                <action id="0" name="Set text" sid="787355196693208" type="Text">
                    <param id="0" name="Text">&quot;Pulso: &quot;&amp;3-medidorPulso&amp;&quot;s&quot;</param>
                </action>
                <action id="-5" name="Scroll to X" sid="549440427975321" type="System">
                    <param id="0" name="X">Personajes.X+100</param>
                </action>
                <action id="-6" name="Scroll to Y" sid="397689157334445" type="System">
                    <param id="0" name="Y">Personajes.Y-100</param>
                </action>
            </actions>
        </event-block>
        <comment>El juego será para Joystick (de Xbox preferentemente, pero para el prototipo lo adaptaremos a teclado)</comment>
        <event-block sid="400650788939434">
            <conditions>
                <condition id="-11" name="For Each" sid="960960494159119" type="System">
                    <param id="0" name="Object">Personajes</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-group description="" sid="498894097942897" title="Movimiento">
                    <sub-events>
                        <event-block sid="297994421546344">
                            <conditions>
                                <condition id="6" name="On button pressed" sid="374589627394292" type="Gamepad">
                                    <param id="0" name="Gamepad">Personajes.Joystick</param>
                                    <param id="1" name="Button">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Platform2" id="7" name="Simulate control" sid="680595333156189" type="Personajes">
                                    <param id="0" name="Control">2</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="980498104512207">
                            <conditions>
                                <condition id="5" name="Compare axis" sid="793302691590187" type="Gamepad">
                                    <param id="0" name="Gamepad">Personajes.Joystick</param>
                                    <param id="1" name="Axis">0</param>
                                    <param id="2" name="Comparison">0</param>
                                    <param id="3" name="Value">-100</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="7" name="Set mirrored" sid="370458021846922" type="Personajes">
                                    <param id="0" name="State">0</param>
                                </action>
                                <action behavior="Platform2" id="7" name="Simulate control" sid="677286775316854" type="Personajes">
                                    <param id="0" name="Control">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="923331438906969">
                            <conditions>
                                <condition id="5" name="Compare axis" sid="920789973564134" type="Gamepad">
                                    <param id="0" name="Gamepad">Personajes.Joystick</param>
                                    <param id="1" name="Axis">0</param>
                                    <param id="2" name="Comparison">0</param>
                                    <param id="3" name="Value">100</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="7" name="Set mirrored" sid="711093030755623" type="Personajes">
                                    <param id="0" name="State">1</param>
                                </action>
                                <action behavior="Platform2" id="7" name="Simulate control" sid="920283957560835" type="Personajes">
                                    <param id="0" name="Control">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-block>
        <event-block sid="279081077328087">
            <conditions>
                <condition id="-4" name="Is outside layout" sid="944951044628709" type="Personajes" />
            </conditions>
            <actions>
                <action id="-26" name="Restart layout" sid="325265414705538" type="System" />
            </actions>
        </event-block>
        <event-block sid="110485351025900">
            <conditions>
                <condition id="-11" name="For Each" sid="757835735367566" type="System">
                    <param id="0" name="Object">Enemigos</param>
                </condition>
                <condition id="-11" name="For Each" sid="249687046614997" type="System">
                    <param id="0" name="Object">Personajes</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="431695653098684">
                    <conditions>
                        <condition id="-8" name="Compare two values" sid="695117038156051" type="System">
                            <param id="0" name="First value">abs(Enemigos.X-Personajes.X)</param>
                            <param id="1" name="Comparison">2</param>
                            <param id="2" name="Second value">150</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="217107961554845" type="System">
                            <param id="0" name="First value">abs(Enemigos.Y - Personajes.Y)</param>
                            <param id="1" name="Comparison">2</param>
                            <param id="2" name="Second value">200</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="194469429452317" type="System">
                            <param id="0" name="First value">abs(Enemigos.X-Personajes.X)</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Second value">10</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="413531943325776">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="332824607657869" type="System">
                                    <param id="0" name="First value">Enemigos.X</param>
                                    <param id="1" name="Comparison">2</param>
                                    <param id="2" name="Second value">Personajes.X</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-1" name="Set X" sid="390941604457853" type="Enemigos">
                                    <param id="0" name="X">Enemigos.X + Enemigos.speed</param>
                                </action>
                                <action id="7" name="Set mirrored" sid="851680602242268" type="Enemigos">
                                    <param id="0" name="State">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="347809215622504">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="406121658152693" type="System">
                                    <param id="0" name="First value">Enemigos.X</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">Personajes.X</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-1" name="Set X" sid="478740897391249" type="Enemigos">
                                    <param id="0" name="X">Enemigos.X - Enemigos.speed</param>
                                </action>
                                <action id="7" name="Set mirrored" sid="420564228663551" type="Enemigos">
                                    <param id="0" name="State">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="155532998923039">
            <conditions>
                <condition id="6" name="On object clicked" sid="450184957021213" type="Mouse">
                    <param id="0" name="Mouse button">0</param>
                    <param id="1" name="Click type">0</param>
                    <param id="2" name="Object clicked">Menu</param>
                </condition>
            </conditions>
            <actions>
                <action id="-2" name="Go to layout" sid="475591981551421" type="System">
                    <param id="0" name="Layout">Portada</param>
                </action>
            </actions>
        </event-block>
    </events>
</c2eventsheet>
